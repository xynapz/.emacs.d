#+TITLE: Code Navigation with Meow
#+AUTHOR: Angel Dhakal
#+STARTUP: overview
#+OPTIONS: toc:2

* Quick Reference Card

| Key   | Action                   | Mode   |
|-------+--------------------------+--------|
| =w=   | Select word              | Normal |
| =x=   | Select line              | Normal |
| =f=   | Find char                | Normal |
| =n=   | Search                   | Normal |
| =SPC f= | Find file              | Leader |
| =SPC b= | Switch buffer          | Leader |
| =SPC g= | Git status             | Leader |

* Meow Basics

You have modal editing with Meow. It uses a *selection-first* paradigm.

** States

| Key | State   | What It Does           |
|-----+---------+------------------------|
| =ESC= | Normal  | Navigation / Commands  |
| =i=   | Insert  | Type text              |
| =a=   | Insert  | Append after cursor    |

** Exiting Insert Mode

| Key | Action           |
|-----+------------------|
| =ESC= | Return to Normal |
| =jk=  | (configured)     |

* Movement (Normal Mode)

** Character / Word

| Key | Action                 |
|-----+------------------------|
| =h= | Left                   |
| =j= | Down                   |
| =k= | Up                     |
| =l= | Right                  |
| =w= | Select word forward    |
| =b= | Back word              |
| =e= | Next word end          |

** Line

| Key | Action                |
|-----+-----------------------|
| =x= | Select line           |
| =0= | Delete window (leader)|

** Screen / File

| Key | Action                  |
|-----+-------------------------|
| =Q= | Go to line              |
| =SPC 1= | Maximize window     |

* Selection (Core Concept)

Unlike Vim, Meow selects first, then acts.

| Key | Action               |
|-----+----------------------|
| =w= | Select word          |
| =x= | Select line          |
| =o= | Select block         |
| =,= | Inner of thing       |
| =.= | Bounds of thing      |
| =g= | Cancel selection     |

* Actions on Selection

| Key | Action              |
|-----+---------------------|
| =d= | Delete              |
| =s= | Kill (cut)          |
| =c= | Change              |
| =y= | Yank (copy)         |
| =p= | Paste               |
| =u= | Undo                |

* Search

** In-Buffer

| Key | Action              |
|-----+---------------------|
| =n= | meow-search         |
| =v= | meow-visit          |
| =f= | Find char           |
| =t= | Till char           |

** Consult

| Key     | Action              |
|---------+---------------------|
| =M-s l= | consult-line        |
| =M-s r= | consult-ripgrep     |
| =M-g i= | consult-imenu       |

* LSP Mode (Code Intelligence)

We use =lsp-mode= for IDE features.

** Navigation

| Key       | Action              |
|-----------+---------------------|
| =M-.=     | Go to definition    |
| =M-,=     | Go back             |
| =M-?=     | Find references     |
| =C-c l r= | Rename symbol       |
| =C-c l a= | Code actions        |

** UI Features

- *Sideline*: Diagnostics on the right
- *Flymake*: Error navigation

** Symbols Sidebar

=C-c l s= opens symbol tree (lsp-treemacs).
=C-c l E= opens error list.

* Windows / Buffers

** Window Splits

| Key       | Action               |
|-----------+----------------------|
| =SPC 2=   | Split horizontal     |
| =SPC 3=   | Split vertical       |
| =SPC 0=   | Delete window        |
| =SPC 1=   | Delete other windows |
| =SPC o=   | Other window         |

** Buffers

| Key       | Action              |
|-----------+---------------------|
| =SPC b=   | consult-buffer      |
| =SPC k=   | Kill buffer         |
| =SPC p f= | Find file in project|

* Projectile (Projects)

| Key         | Action               |
|-------------+----------------------|
| =SPC p=     | Projectile prefix    |
| =SPC p p=   | Switch project       |
| =SPC p f=   | Find file in project |
| =SPC p s r= | Ripgrep in project   |

* Magit (Git)

| Key     | Action       |
|---------+--------------|
| =SPC g= | Magit status |
| =C-x g= | Magit status |

Inside Magit:
| Key | Action          |
|-----+-----------------|
| =s= | Stage file/hunk |
| =u= | Unstage         |
| =c c= | Commit        |
| =P p= | Push          |
| =F p= | Pull          |
| =TAB= | Expand/collapse|
| =q=   | Quit          |

* Daily Workflow

1. =SPC p p= - Switch to project
2. =SPC p f= - Find file
3. =M-.= - Jump to definition
4. =M-,= - Jump back
5. =M-s l= - Search in file
6. =M-s r= - Search in project
7. =SPC g= - Git status
